import{s as ut,D as He,E as Le,a as T,d as h,f as p,i as I,g as k,n as pe,y as mt,A as ht,j as de,p as gt,F as _t,q as pt,k as j,o as H,e as V,c as C,r as vt,v as bt,w as wt,x as kt,Q as Ve,t as Q,b as K,h as ee,B as Ze,u as he,H as $t,N as ve,T as qe}from"./scheduler.CLnmnrop.js";import{S as ct,i as dt,f as yt,b as U,d as R,m as G,t as w,a as M,e as Y,g as te,c as le}from"./index.jC8s_wP8.js";import{e as fe}from"./each.CZWoHnGO.js";import"./updater.BybD5GlD.js";import{M as Et,a as Dt,b as Vt}from"./menu-trigger.Ycf_KxM1.js";import{m as We}from"./marked.esm._0_gBwjO.js";import{F as Ct}from"./fuse.CU2r43ac.js";import{f as Mt}from"./index.BFuekP1B.js";import{C as It}from"./ChevronDown.CcacxcvH.js";import{C as Tt}from"./Check.BrvlJ4RX.js";import{S as Nt}from"./Search.ULJojl9U.js";import{g as Ot,p as zt,d as St}from"./index.IpKCMAl1.js";import{M as me,a as Pt,c as Bt,i as At,u as jt,l as Fe,m as Ht}from"./index.FCXDDdBP.js";import{t as ie}from"./Toaster.svelte_svelte_type_style_lang.BTItCLS0.js";import{s as Lt,f as Ue}from"./index.C3Lj5wiP.js";import{g as Zt}from"./index.bpOTKtne.js";import{T as ue}from"./Tooltip.4AVgyit1.js";import{S as qt}from"./Switch.DgjV8lDC.js";import{g as Wt}from"./entry.lrPOyy5M.js";function Ft(r){let e,l;return{c(){e=He("svg"),l=He("path"),this.h()},l(t){e=Le(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=T(e);l=Le(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),T(l).forEach(h),a.forEach(h),this.h()},h(){p(l,"stroke-linecap","round"),p(l,"stroke-linejoin","round"),p(l,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width",r[1]),p(e,"stroke","currentColor"),p(e,"class",r[0])},m(t,a){I(t,e,a),k(e,l)},p(t,[a]){a&2&&p(e,"stroke-width",t[1]),a&1&&p(e,"class",t[0])},i:pe,o:pe,d(t){t&&h(e)}}}function Ut(r,e,l){let{className:t="size-4"}=e,{strokeWidth:a="1.5"}=e;return r.$$set=n=>{"className"in n&&l(0,t=n.className),"strokeWidth"in n&&l(1,a=n.strokeWidth)},[t,a]}class Rt extends ct{constructor(e){super(),dt(this,e,Ut,Ft,ut,{className:0,strokeWidth:1})}}function Re(r,e,l){const t=r.slice();return t[37]=e[l],t}function Ge(r,e,l){const t=r.slice();return t[40]=e[l],t[42]=l,t}function Ye(r,e,l){const t=r.slice();return t[43]=e[l],t}function Je(r,e,l){const t=r.slice();return t[43]=e[l],t}function Gt(r){let e;return{c(){e=Q(r[2])},l(l){e=K(l,r[2])},m(l,t){I(l,e,t)},p(l,t){t[0]&4&&ee(e,l[2])},d(l){l&&h(e)}}}function Yt(r){let e=r[10].label+"",l;return{c(){l=Q(e)},l(t){l=K(t,e)},m(t,a){I(t,l,a)},p(t,a){a[0]&1024&&e!==(e=t[10].label+"")&&ee(l,e)},d(t){t&&h(l)}}}function Jt(r){let e,l,t,a,n;function s(m,u){return m[10]?Yt:Gt}let i=s(r),o=i(r);return t=new It({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),o.c(),l=j(),U(t.$$.fragment),this.h()},l(m){e=C(m,"DIV",{class:!0});var u=T(e);o.l(u),l=H(u),R(t.$$.fragment,u),u.forEach(h),this.h()},h(){p(e,"class",a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+r[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(m,u){I(m,e,u),o.m(e,null),k(e,l),G(t,e,null),n=!0},p(m,u){i===(i=s(m))&&o?o.p(m,u):(o.d(1),o=i(m),o&&(o.c(),o.m(e,l))),(!n||u[0]&128&&a!==(a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+m[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&p(e,"class",a)},i(m){n||(w(t.$$.fragment,m),n=!0)},o(m){M(t.$$.fragment,m),n=!1},d(m){m&&h(e),o.d(),Y(t)}}}function Qe(r){let e,l,t,a,n,s,i,o,m;return l=new Nt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),U(l.$$.fragment),t=j(),a=V("input"),n=j(),s=V("hr"),this.h()},l(u){e=C(u,"DIV",{class:!0});var v=T(e);R(l.$$.fragment,v),t=H(v),a=C(v,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),v.forEach(h),n=H(u),s=C(u,"HR",{class:!0}),this.h()},h(){p(a,"id","model-search-input"),p(a,"class","w-full text-sm bg-transparent outline-hidden"),p(a,"placeholder",r[4]),p(a,"autocomplete","off"),p(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-3"),p(s,"class","border-gray-100 dark:border-gray-850")},m(u,v){I(u,e,v),G(l,e,null),k(e,t),k(e,a),Ze(a,r[8]),I(u,n,v),I(u,s,v),i=!0,o||(m=[he(a,"input",r[24]),he(a,"keydown",r[25])],o=!0)},p(u,v){(!i||v[0]&16)&&p(a,"placeholder",u[4]),v[0]&256&&a.value!==u[8]&&Ze(a,u[8])},i(u){i||(w(l.$$.fragment,u),i=!0)},o(u){M(l.$$.fragment,u),i=!1},d(u){u&&(h(e),h(n),h(s)),Y(l),o=!1,$t(m)}}}function Ke(r){let e,l,t=r[15].t("No results found")+"",a;return{c(){e=V("div"),l=V("div"),a=Q(t),this.h()},l(n){e=C(n,"DIV",{});var s=T(e);l=C(s,"DIV",{class:!0});var i=T(l);a=K(i,t),i.forEach(h),s.forEach(h),this.h()},h(){p(l,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,s){I(n,e,s),k(e,l),k(l,a)},p(n,s){s[0]&32768&&t!==(t=n[15].t("No results found")+"")&&ee(a,t)},d(n){n&&h(e)}}}function Xe(r){var a,n;let e,l=fe((n=(a=r[40].model)==null?void 0:a.info)==null?void 0:n.meta.tags),t=[];for(let s=0;s<l.length;s+=1)t[s]=xe(Je(r,l,s));return{c(){e=V("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var i=T(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(s,i){I(s,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(s,i){var o,m;if(i[0]&8192){l=fe((m=(o=s[40].model)==null?void 0:o.info)==null?void 0:m.meta.tags);let u;for(u=0;u<l.length;u+=1){const v=Je(s,l,u);t[u]?t[u].p(v,i):(t[u]=xe(v),t[u].c(),t[u].m(e,null))}for(;u<t.length;u+=1)t[u].d(1);t.length=l.length}},d(s){s&&h(e),Ve(t,s)}}}function xe(r){let e,l=r[43].name+"",t,a;return{c(){e=V("div"),t=Q(l),a=j(),this.h()},l(n){e=C(n,"DIV",{class:!0});var s=T(e);t=K(s,l),a=H(s),s.forEach(h),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,s){I(n,e,s),k(e,t),k(e,a)},p(n,s){s[0]&8192&&l!==(l=n[43].name+"")&&ee(t,l)},d(n){n&&h(e)}}}function Qt(r){let e,l,t,a=r[40].label+"",n;return{c(){e=V("img"),t=j(),n=Q(a),this.h()},l(s){e=C(s,"IMG",{src:!0,alt:!0,class:!0}),t=H(s),n=K(s,a),this.h()},h(){var s,i,o;qe(e.src,l=((o=(i=(s=r[40].model)==null?void 0:s.info)==null?void 0:i.meta)==null?void 0:o.profile_image_url)??"/static/favicon.png")||p(e,"src",l),p(e,"alt","Model"),p(e,"class","rounded-full size-5 flex items-center mr-2")},m(s,i){I(s,e,i),I(s,t,i),I(s,n,i)},p(s,i){var o,m,u;i[0]&8192&&!qe(e.src,l=((u=(m=(o=s[40].model)==null?void 0:o.info)==null?void 0:m.meta)==null?void 0:u.profile_image_url)??"/static/favicon.png")&&p(e,"src",l),i[0]&8192&&a!==(a=s[40].label+"")&&ee(n,a)},d(s){s&&(h(e),h(t),h(n))}}}function et(r){var a,n,s,i,o,m;let e,l,t;return l=new ue({props:{content:`${(n=(a=r[40].model.ollama)==null?void 0:a.details)!=null&&n.quantization_level?((i=(s=r[40].model.ollama)==null?void 0:s.details)==null?void 0:i.quantization_level)+" ":""}${(o=r[40].model.ollama)!=null&&o.size?`(${(((m=r[40].model.ollama)==null?void 0:m.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Kt]},$$scope:{ctx:r}}}),{c(){e=V("div"),U(l.$$.fragment),this.h()},l(u){e=C(u,"DIV",{class:!0});var v=T(e);R(l.$$.fragment,v),v.forEach(h),this.h()},h(){p(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(u,v){I(u,e,v),G(l,e,null),t=!0},p(u,v){var O,$,Z,b,y,z;const _={};v[0]&8192&&(_.content=`${($=(O=u[40].model.ollama)==null?void 0:O.details)!=null&&$.quantization_level?((b=(Z=u[40].model.ollama)==null?void 0:Z.details)==null?void 0:b.quantization_level)+" ":""}${(y=u[40].model.ollama)!=null&&y.size?`(${(((z=u[40].model.ollama)==null?void 0:z.size)/1024**3).toFixed(1)}GB)`:""}`),v[0]&8192|v[1]&2&&(_.$$scope={dirty:v,ctx:u}),l.$set(_)},i(u){t||(w(l.$$.fragment,u),t=!0)},o(u){M(l.$$.fragment,u),t=!1},d(u){u&&h(e),Y(l)}}}function Kt(r){var a,n;let e,l=(((n=(a=r[40].model.ollama)==null?void 0:a.details)==null?void 0:n.parameter_size)??"")+"",t;return{c(){e=V("span"),t=Q(l),this.h()},l(s){e=C(s,"SPAN",{class:!0});var i=T(e);t=K(i,l),i.forEach(h),this.h()},h(){p(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(s,i){I(s,e,i),k(e,t)},p(s,i){var o,m;i[0]&8192&&l!==(l=(((m=(o=s[40].model.ollama)==null?void 0:o.details)==null?void 0:m.parameter_size)??"")+"")&&ee(t,l)},d(s){s&&h(e)}}}function Xt(r){let e,l;return e=new ue({props:{content:"External",$$slots:{default:[el]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){G(e,t,a),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function xt(r){let e,l;return e=new ue({props:{content:"Direct",$$slots:{default:[tl]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){G(e,t,a),l=!0},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function el(r){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=l,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-n3uai6"&&(e.innerHTML=l),this.h()},h(){p(e,"class","translate-y-[1px]")},m(t,a){I(t,e,a)},p:pe,d(t){t&&h(e)}}}function tl(r){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=l,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1dup7go"&&(e.innerHTML=l),this.h()},h(){p(e,"class","translate-y-[1px]")},m(t,a){I(t,e,a)},p:pe,d(t){t&&h(e)}}}function tt(r){var t,a,n;let e,l;return e=new ue({props:{content:`${We.parse(Ue((n=(a=(t=r[40].model)==null?void 0:t.info)==null?void 0:a.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[ll]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){G(e,s,i),l=!0},p(s,i){var m,u,v;const o={};i[0]&8192&&(o.content=`${We.parse(Ue((v=(u=(m=s[40].model)==null?void 0:m.info)==null?void 0:u.meta)==null?void 0:v.description).replaceAll(`
`,"<br>"))}`),i[1]&2&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){l||(w(e.$$.fragment,s),l=!0)},o(s){M(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function ll(r){let e,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=l,this.h()},l(t){e=C(t,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1mqbvzr"&&(e.innerHTML=l),this.h()},h(){p(e,"class","translate-y-[1px]")},m(t,a){I(t,e,a)},p:pe,d(t){t&&h(e)}}}function lt(r){var s,i;let e,l,t=fe((i=(s=r[40].model)==null?void 0:s.info)==null?void 0:i.meta.tags),a=[];for(let o=0;o<t.length;o+=1)a[o]=at(Ye(r,t,o));const n=o=>M(a[o],1,1,()=>{a[o]=null});return{c(){e=V("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var m=T(e);for(let u=0;u<a.length;u+=1)a[u].l(m);m.forEach(h),this.h()},h(){p(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px]")},m(o,m){I(o,e,m);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);l=!0},p(o,m){var u,v;if(m[0]&8192){t=fe((v=(u=o[40].model)==null?void 0:u.info)==null?void 0:v.meta.tags);let _;for(_=0;_<t.length;_+=1){const O=Ye(o,t,_);a[_]?(a[_].p(O,m),w(a[_],1)):(a[_]=at(O),a[_].c(),w(a[_],1),a[_].m(e,null))}for(te(),_=t.length;_<a.length;_+=1)n(_);le()}},i(o){if(!l){for(let m=0;m<t.length;m+=1)w(a[m]);l=!0}},o(o){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)M(a[m]);l=!1},d(o){o&&h(e),Ve(a,o)}}}function al(r){let e,l=r[43].name+"",t,a;return{c(){e=V("div"),t=Q(l),a=j(),this.h()},l(n){e=C(n,"DIV",{class:!0});var s=T(e);t=K(s,l),s.forEach(h),a=H(n),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,s){I(n,e,s),k(e,t),I(n,a,s)},p(n,s){s[0]&8192&&l!==(l=n[43].name+"")&&ee(t,l)},d(n){n&&(h(e),h(a))}}}function at(r){let e,l;return e=new ue({props:{content:r[43].name,$$slots:{default:[al]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){G(e,t,a),l=!0},p(t,a){const n={};a[0]&8192&&(n.content=t[43].name),a[0]&8192|a[1]&2&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function rt(r){let e,l,t;return l=new Tt({}),{c(){e=V("div"),U(l.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0});var n=T(e);R(l.$$.fragment,n),n.forEach(h),this.h()},h(){p(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(a,n){I(a,e,n),G(l,e,null),t=!0},i(a){t||(w(l.$$.fragment,a),t=!0)},o(a){M(l.$$.fragment,a),t=!1},d(a){a&&h(e),Y(l)}}}function st(r){var ne,ce,be,we,ke,$e,ye,Ee,De,d,J,ae,oe,re,X;let e,l,t,a,n,s,i,o,m,u,v,_,O,$,Z,b,y,z,D,q,E=r[16]&&(((we=(be=(ce=(ne=r[40])==null?void 0:ne.model)==null?void 0:ce.info)==null?void 0:be.meta)==null?void 0:we.tags)??[]).length>0&&Xe(r);o=new ue({props:{content:((ke=r[17])==null?void 0:ke.role)==="admin"?(($e=r[40])==null?void 0:$e.value)??"":"",placement:"top-start",$$slots:{default:[Qt]},$$scope:{ctx:r}}});let f=r[40].model.owned_by==="ollama"&&(((Ee=(ye=r[40].model.ollama)==null?void 0:ye.details)==null?void 0:Ee.parameter_size)??"")!==""&&et(r);const g=[xt,Xt],c=[];function S(W,A){var F;return(F=W[40].model)!=null&&F.direct?0:W[40].model.owned_by==="openai"?1:-1}~(v=S(r))&&(_=c[v]=g[v](r));let P=((J=(d=(De=r[40].model)==null?void 0:De.info)==null?void 0:d.meta)==null?void 0:J.description)&&tt(r),N=!r[16]&&(((X=(re=(oe=(ae=r[40])==null?void 0:ae.model)==null?void 0:oe.info)==null?void 0:re.meta)==null?void 0:X.tags)??[]).length>0&&lt(r),L=r[0]===r[40].value&&rt();function se(){return r[26](r[40],r[42])}return{c(){e=V("button"),l=V("div"),E&&E.c(),t=j(),a=V("div"),n=V("div"),s=V("div"),i=V("div"),U(o.$$.fragment),m=j(),f&&f.c(),u=j(),_&&_.c(),O=j(),P&&P.c(),$=j(),N&&N.c(),Z=j(),L&&L.c(),this.h()},l(W){e=C(W,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0});var A=T(e);l=C(A,"DIV",{class:!0});var F=T(l);E&&E.l(F),t=H(F),a=C(F,"DIV",{class:!0});var B=T(a);n=C(B,"DIV",{class:!0});var x=T(n);s=C(x,"DIV",{class:!0});var ge=T(s);i=C(ge,"DIV",{class:!0});var _e=T(i);R(o.$$.fragment,_e),_e.forEach(h),ge.forEach(h),m=H(x),f&&f.l(x),x.forEach(h),u=H(B),_&&_.l(B),O=H(B),P&&P.l(B),$=H(B),N&&N.l(B),B.forEach(h),F.forEach(h),Z=H(A),L&&L.l(A),A.forEach(h),this.h()},h(){p(i,"class","flex items-center min-w-fit"),p(s,"class","line-clamp-1"),p(n,"class","flex items-center min-w-fit"),p(a,"class","flex items-center gap-2"),p(l,"class","flex flex-col"),p(e,"aria-label","model-item"),p(e,"class",b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[42]===r[12]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),p(e,"data-arrow-selected",y=r[42]===r[12])},m(W,A){I(W,e,A),k(e,l),E&&E.m(l,null),k(l,t),k(l,a),k(a,n),k(n,s),k(s,i),G(o,i,null),k(n,m),f&&f.m(n,null),k(a,u),~v&&c[v].m(a,null),k(a,O),P&&P.m(a,null),k(a,$),N&&N.m(a,null),k(e,Z),L&&L.m(e,null),z=!0,D||(q=he(e,"click",se),D=!0)},p(W,A){var x,ge,_e,Ce,Me,Ie,Te,Ne,Oe,ze,Se,Pe,Be,Ae,je;r=W,r[16]&&(((Ce=(_e=(ge=(x=r[40])==null?void 0:x.model)==null?void 0:ge.info)==null?void 0:_e.meta)==null?void 0:Ce.tags)??[]).length>0?E?E.p(r,A):(E=Xe(r),E.c(),E.m(l,t)):E&&(E.d(1),E=null);const F={};A[0]&139264&&(F.content=((Me=r[17])==null?void 0:Me.role)==="admin"?((Ie=r[40])==null?void 0:Ie.value)??"":""),A[0]&8192|A[1]&2&&(F.$$scope={dirty:A,ctx:r}),o.$set(F),r[40].model.owned_by==="ollama"&&(((Ne=(Te=r[40].model.ollama)==null?void 0:Te.details)==null?void 0:Ne.parameter_size)??"")!==""?f?(f.p(r,A),A[0]&8192&&w(f,1)):(f=et(r),f.c(),w(f,1),f.m(n,null)):f&&(te(),M(f,1,1,()=>{f=null}),le());let B=v;v=S(r),v!==B&&(_&&(te(),M(c[B],1,1,()=>{c[B]=null}),le()),~v?(_=c[v],_||(_=c[v]=g[v](r),_.c()),w(_,1),_.m(a,O)):_=null),(Se=(ze=(Oe=r[40].model)==null?void 0:Oe.info)==null?void 0:ze.meta)!=null&&Se.description?P?(P.p(r,A),A[0]&8192&&w(P,1)):(P=tt(r),P.c(),w(P,1),P.m(a,$)):P&&(te(),M(P,1,1,()=>{P=null}),le()),!r[16]&&(((je=(Ae=(Be=(Pe=r[40])==null?void 0:Pe.model)==null?void 0:Be.info)==null?void 0:Ae.meta)==null?void 0:je.tags)??[]).length>0?N?(N.p(r,A),A[0]&73728&&w(N,1)):(N=lt(r),N.c(),w(N,1),N.m(a,null)):N&&(te(),M(N,1,1,()=>{N=null}),le()),r[0]===r[40].value?L?A[0]&8193&&w(L,1):(L=rt(),L.c(),w(L,1),L.m(e,null)):L&&(te(),M(L,1,1,()=>{L=null}),le()),(!z||A[0]&4096&&b!==(b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[42]===r[12]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&p(e,"class",b),(!z||A[0]&4096&&y!==(y=r[42]===r[12]))&&p(e,"data-arrow-selected",y)},i(W){z||(w(o.$$.fragment,W),w(f),w(_),w(P),w(N),w(L),z=!0)},o(W){M(o.$$.fragment,W),M(f),M(_),M(P),M(N),M(L),z=!1},d(W){W&&h(e),E&&E.d(),Y(o),f&&f.d(),~v&&c[v].d(),P&&P.d(),N&&N.d(),L&&L.d(),D=!1,q()}}}function nt(r){let e,l;return e=new ue({props:{content:r[15].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[8]}),placement:"top-start",$$slots:{default:[rl]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,a){G(e,t,a),l=!0},p(t,a){const n={};a[0]&33024&&(n.content=t[15].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:t[8]})),a[0]&33024|a[1]&2&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Y(e,t)}}}function rl(r){let e,l,t=r[15].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[8]})+"",a,n,s;return{c(){e=V("button"),l=V("div"),a=Q(t),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var o=T(e);l=C(o,"DIV",{class:!0});var m=T(l);a=K(m,t),m.forEach(h),o.forEach(h),this.h()},h(){p(l,"class","truncate"),p(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(i,o){I(i,e,o),k(e,l),k(l,a),n||(s=he(e,"click",r[27]),n=!0)},p(i,o){o[0]&33024&&t!==(t=i[15].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:i[8]})+"")&&ee(a,t)},d(i){i&&h(e),n=!1,s()}}}function ot(r){let e,l=r[14][r[37]].digest+"",t;return{c(){e=V("div"),t=Q(l),this.h()},l(a){e=C(a,"DIV",{class:!0});var n=T(e);t=K(n,l),n.forEach(h),this.h()},h(){p(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(a,n){I(a,e,n),k(e,t)},p(a,n){n[0]&16384&&l!==(l=a[14][a[37]].digest+"")&&ee(t,l)},d(a){a&&h(e)}}}function sl(r){let e,l='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',t,a;function n(){return r[28](r[37])}return{c(){e=V("button"),e.innerHTML=l,this.h()},l(s){e=C(s,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-19bzgft"&&(e.innerHTML=l),this.h()},h(){p(e,"class","text-gray-800 dark:text-gray-100")},m(s,i){I(s,e,i),t||(a=he(e,"click",n),t=!0)},p(s,i){r=s},d(s){s&&h(e),t=!1,a()}}}function it(r){let e,l,t,a=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,s,i,o,m,u=r[37]+"",v,_,O,$,Z="pullProgress"in r[14][r[37]]?`(${r[14][r[37]].pullProgress}%)`:"",b,y,z,D,q,E,f,g="digest"in r[14][r[37]]&&r[14][r[37]].digest&&ot(r);return q=new ue({props:{content:r[15].t("Cancel"),$$slots:{default:[sl]},$$scope:{ctx:r}}}),{c(){e=V("div"),l=V("div"),t=V("div"),t.innerHTML=a,n=j(),s=V("div"),i=V("div"),o=V("div"),m=Q('Downloading "'),v=Q(u),_=Q('"'),O=j(),$=V("div"),b=Q(Z),y=j(),g&&g.c(),z=j(),D=V("div"),U(q.$$.fragment),E=j(),this.h()},l(c){e=C(c,"DIV",{class:!0});var S=T(e);l=C(S,"DIV",{class:!0});var P=T(l);t=C(P,"DIV",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-102rp4j"&&(t.innerHTML=a),n=H(P),s=C(P,"DIV",{class:!0});var N=T(s);i=C(N,"DIV",{class:!0});var L=T(i);o=C(L,"DIV",{class:!0});var se=T(o);m=K(se,'Downloading "'),v=K(se,u),_=K(se,'"'),se.forEach(h),O=H(L),$=C(L,"DIV",{class:!0});var ne=T($);b=K(ne,Z),ne.forEach(h),L.forEach(h),y=H(N),g&&g.l(N),N.forEach(h),P.forEach(h),z=H(S),D=C(S,"DIV",{class:!0});var ce=T(D);R(q.$$.fragment,ce),ce.forEach(h),E=H(S),S.forEach(h),this.h()},h(){p(t,"class","-ml-2 mr-2.5 translate-y-0.5"),p(o,"class","line-clamp-1"),p($,"class","shrink-0"),p(i,"class","flex gap-1"),p(s,"class","flex flex-col self-start"),p(l,"class","flex"),p(D,"class","mr-2 ml-1 translate-y-0.5"),p(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(c,S){I(c,e,S),k(e,l),k(l,t),k(l,n),k(l,s),k(s,i),k(i,o),k(o,m),k(o,v),k(o,_),k(i,O),k(i,$),k($,b),k(s,y),g&&g.m(s,null),k(e,z),k(e,D),G(q,D,null),k(e,E),f=!0},p(c,S){(!f||S[0]&16384)&&u!==(u=c[37]+"")&&ee(v,u),(!f||S[0]&16384)&&Z!==(Z="pullProgress"in c[14][c[37]]?`(${c[14][c[37]].pullProgress}%)`:"")&&ee(b,Z),"digest"in c[14][c[37]]&&c[14][c[37]].digest?g?g.p(c,S):(g=ot(c),g.c(),g.m(s,null)):g&&(g.d(1),g=null);const P={};S[0]&32768&&(P.content=c[15].t("Cancel")),S[0]&16384|S[1]&2&&(P.$$scope={dirty:S,ctx:c}),q.$set(P)},i(c){f||(w(q.$$.fragment,c),f=!0)},o(c){M(q.$$.fragment,c),f=!1},d(c){c&&h(e),g&&g.d(),Y(q)}}}function ft(r){let e,l,t,a,n,s,i,o=r[15].t("Temporary Chat")+"",m,u,v,_,O,$,Z;return s=new Rt({props:{className:"size-4",strokeWidth:"2.5"}}),_=new qt({props:{state:r[18]}}),{c(){e=V("hr"),l=j(),t=V("div"),a=V("button"),n=V("div"),U(s.$$.fragment),i=j(),m=Q(o),u=j(),v=V("div"),U(_.$$.fragment),this.h()},l(b){e=C(b,"HR",{class:!0}),l=H(b),t=C(b,"DIV",{class:!0});var y=T(t);a=C(y,"BUTTON",{class:!0});var z=T(a);n=C(z,"DIV",{class:!0});var D=T(n);R(s.$$.fragment,D),i=H(D),m=K(D,o),D.forEach(h),u=H(z),v=C(z,"DIV",{});var q=T(v);R(_.$$.fragment,q),q.forEach(h),z.forEach(h),y.forEach(h),this.h()},h(){p(e,"class","border-gray-100 dark:border-gray-850"),p(n,"class","flex gap-2.5 items-center"),p(a,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),p(t,"class","flex items-center mx-2 my-2")},m(b,y){I(b,e,y),I(b,l,y),I(b,t,y),k(t,a),k(a,n),G(s,n,null),k(n,i),k(n,m),k(a,u),k(a,v),G(_,v,null),O=!0,$||(Z=he(a,"click",r[29]),$=!0)},p(b,y){(!O||y[0]&32768)&&o!==(o=b[15].t("Temporary Chat")+"")&&ee(m,o);const z={};y[0]&262144&&(z.state=b[18]),_.$set(z)},i(b){O||(w(s.$$.fragment,b),w(_.$$.fragment,b),O=!0)},o(b){M(s.$$.fragment,b),M(_.$$.fragment,b),O=!1},d(b){b&&(h(e),h(l),h(t)),Y(s),Y(_),$=!1,Z()}}}function nl(r){let e,l,t,a=!(r[8].trim()in r[14])&&r[8]&&r[11]&&r[17].role==="admin",n,s,i,o,m,u,v,_=r[3]&&Qe(r),O=fe(r[13]),$=[];for(let f=0;f<O.length;f+=1)$[f]=st(Ge(r,O,f));const Z=f=>M($[f],1,1,()=>{$[f]=null});let b=null;O.length||(b=Ke(r));let y=a&&nt(r),z=fe(Object.keys(r[14])),D=[];for(let f=0;f<z.length;f+=1)D[f]=it(Re(r,z,f));const q=f=>M(D[f],1,1,()=>{D[f]=null});let E=r[5]&&ft(r);return{c(){_&&_.c(),e=j(),l=V("div");for(let f=0;f<$.length;f+=1)$[f].c();b&&b.c(),t=j(),y&&y.c(),n=j();for(let f=0;f<D.length;f+=1)D[f].c();s=j(),E&&E.c(),i=j(),o=V("div"),m=j(),u=V("div"),this.h()},l(f){_&&_.l(f),e=H(f),l=C(f,"DIV",{class:!0});var g=T(l);for(let c=0;c<$.length;c+=1)$[c].l(g);b&&b.l(g),t=H(g),y&&y.l(g),n=H(g);for(let c=0;c<D.length;c+=1)D[c].l(g);g.forEach(h),s=H(f),E&&E.l(f),i=H(f),o=C(f,"DIV",{class:!0}),T(o).forEach(h),m=H(f),u=C(f,"DIV",{class:!0}),T(u).forEach(h),this.h()},h(){p(l,"class","px-3 my-2 max-h-64 overflow-y-auto scrollbar-hidden group"),p(o,"class","hidden w-[42rem]"),p(u,"class","hidden w-[32rem]")},m(f,g){_&&_.m(f,g),I(f,e,g),I(f,l,g);for(let c=0;c<$.length;c+=1)$[c]&&$[c].m(l,null);b&&b.m(l,null),k(l,t),y&&y.m(l,null),k(l,n);for(let c=0;c<D.length;c+=1)D[c]&&D[c].m(l,null);I(f,s,g),E&&E.m(f,g),I(f,i,g),I(f,o,g),I(f,m,g),I(f,u,g),v=!0},p(f,g){if(f[3]?_?(_.p(f,g),g[0]&8&&w(_,1)):(_=Qe(f),_.c(),w(_,1),_.m(e.parentNode,e)):_&&(te(),M(_,1,1,()=>{_=null}),le()),g[0]&242177){O=fe(f[13]);let c;for(c=0;c<O.length;c+=1){const S=Ge(f,O,c);$[c]?($[c].p(S,g),w($[c],1)):($[c]=st(S),$[c].c(),w($[c],1),$[c].m(l,t))}for(te(),c=O.length;c<$.length;c+=1)Z(c);le(),!O.length&&b?b.p(f,g):O.length?b&&(b.d(1),b=null):(b=Ke(f),b.c(),b.m(l,t))}if(g[0]&149760&&(a=!(f[8].trim()in f[14])&&f[8]&&f[11]&&f[17].role==="admin"),a?y?(y.p(f,g),g[0]&149760&&w(y,1)):(y=nt(f),y.c(),w(y,1),y.m(l,n)):y&&(te(),M(y,1,1,()=>{y=null}),le()),g[0]&2146304){z=fe(Object.keys(f[14]));let c;for(c=0;c<z.length;c+=1){const S=Re(f,z,c);D[c]?(D[c].p(S,g),w(D[c],1)):(D[c]=it(S),D[c].c(),w(D[c],1),D[c].m(l,null))}for(te(),c=z.length;c<D.length;c+=1)q(c);le()}f[5]?E?(E.p(f,g),g[0]&32&&w(E,1)):(E=ft(f),E.c(),w(E,1),E.m(i.parentNode,i)):E&&(te(),M(E,1,1,()=>{E=null}),le())},i(f){if(!v){w(_);for(let g=0;g<O.length;g+=1)w($[g]);w(y);for(let g=0;g<z.length;g+=1)w(D[g]);w(E),v=!0}},o(f){M(_),$=$.filter(Boolean);for(let g=0;g<$.length;g+=1)M($[g]);M(y),D=D.filter(Boolean);for(let g=0;g<D.length;g+=1)M(D[g]);M(E),v=!1},d(f){f&&(h(e),h(l),h(s),h(i),h(o),h(m),h(u)),_&&_.d(f),Ve($,f),b&&b.d(),y&&y.d(),Ve(D,f),E&&E.d(f)}}}function ol(r){let e;const l=r[23].default,t=vt(l,r,r[32],null),a=t||nl(r);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,s){a&&a.m(n,s),e=!0},p(n,s){t?t.p&&(!e||s[1]&2)&&bt(t,l,n,n[32],e?kt(l,n[32],s,null):wt(n[32]),null):a&&a.p&&(!e||s[0]&523065)&&a.p(n,e?s:[-1,-1])},i(n){e||(w(a,n),e=!0)},o(n){M(a,n),e=!1},d(n){a&&a.d(n)}}}function il(r){let e,l,t,a;return e=new Dt({props:{class:"relative w-full font-primary","aria-label":r[2],id:"model-selector-"+r[1]+"-button",$$slots:{default:[Jt]},$$scope:{ctx:r}}}),t=new Vt({props:{class:" z-40 "+(r[16]?"w-full":`${r[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Mt,side:r[16]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[ol]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),l=j(),U(t.$$.fragment)},l(n){R(e.$$.fragment,n),l=H(n),R(t.$$.fragment,n)},m(n,s){G(e,n,s),I(n,l,s),G(t,n,s),a=!0},p(n,s){const i={};s[0]&4&&(i["aria-label"]=n[2]),s[0]&2&&(i.id="model-selector-"+n[1]+"-button"),s[0]&1156|s[1]&2&&(i.$$scope={dirty:s,ctx:n}),e.$set(i);const o={};s[0]&65600&&(o.class=" z-40 "+(n[16]?"w-full":`${n[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&65536&&(o.side=n[16]?"bottom":"bottom-start"),s[0]&523065|s[1]&2&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){a||(w(e.$$.fragment,n),w(t.$$.fragment,n),a=!0)},o(n){M(e.$$.fragment,n),M(t.$$.fragment,n),a=!1},d(n){n&&h(l),Y(e,n),Y(t,n)}}}function fl(r){let e,l,t;function a(s){r[31](s)}let n={onOpenChange:r[30],closeFocus:!1,$$slots:{default:[il]},$$scope:{ctx:r}};return r[9]!==void 0&&(n.open=r[9]),e=new Et({props:n}),mt.push(()=>yt(e,"open",a)),{c(){U(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,i){G(e,s,i),t=!0},p(s,i){const o={};i[0]&4352&&(o.onOpenChange=s[30]),i[0]&524287|i[1]&2&&(o.$$scope={dirty:i,ctx:s}),!l&&i[0]&512&&(l=!0,o.open=s[9],ht(()=>l=!1)),e.$set(o)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){Y(e,s)}}}function ul(r,e,l){let t,a,n,s,i,o,m,u;de(r,me,d=>l(14,a=d)),de(r,Pt,d=>l(33,s=d)),de(r,Bt,d=>l(34,i=d)),de(r,At,d=>l(16,o=d)),de(r,jt,d=>l(17,m=d)),de(r,Fe,d=>l(18,u=d));let{$$slots:v={},$$scope:_}=e;const O=gt("i18n");de(r,O,d=>l(15,n=d)),_t();let{id:$=""}=e,{value:Z=""}=e,{placeholder:b="Select a model"}=e,{searchEnabled:y=!0}=e,{searchPlaceholder:z=n.t("Search a model")}=e,{showTemporaryChatControl:D=!1}=e,{items:q=[]}=e,{className:E="w-[32rem]"}=e,{triggerClassName:f="text-lg"}=e,g=!1,c="",S="",P=null,N=0;const L=new Ct(q.map(d=>{var ae,oe,re,X,W,A,F,B;return{...d,modelName:(ae=d.model)==null?void 0:ae.name,tags:(W=(X=(re=(oe=d.model)==null?void 0:oe.info)==null?void 0:re.meta)==null?void 0:X.tags)==null?void 0:W.map(x=>x.name).join(" "),desc:(B=(F=(A=d.model)==null?void 0:A.info)==null?void 0:F.meta)==null?void 0:B.description}}),{keys:["value","tags","modelName"],threshold:.4}),se=async()=>{var oe;const d=S.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[d]){ie.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:d}));return}if(Object.keys(a).length===3){ie.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[J,ae]=await zt(localStorage.token,d,"0").catch(re=>(ie.error(`${re}`),null));if(J){const re=J.body.pipeThrough(new TextDecoderStream).pipeThrough(Lt(`
`)).getReader();for(me.set({...a,[d]:{...a[d],abortController:ae,reader:re,done:!1}});;)try{const{value:X,done:W}=await re.read();if(W)break;let A=X.split(`
`);for(const F of A)if(F!==""){let B=JSON.parse(F);if(console.log(B),B.error)throw B.error;if(B.detail)throw B.detail;if(B.status)if(B.digest){let x=0;B.completed?x=Math.round(B.completed/B.total*1e3)/10:x=100,me.set({...a,[d]:{...a[d],pullProgress:x,digest:B.digest}})}else ie.success(B.status),me.set({...a,[d]:{...a[d],done:B.status==="success"}})}}catch(X){console.log(X),typeof X!="string"&&(X=X.message),ie.error(`${X}`);break}a[d].done?(ie.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:d})),Ht.set(await Zt(localStorage.token,((oe=i==null?void 0:i.features)==null?void 0:oe.enable_direct_connections)&&((s==null?void 0:s.directConnections)??null)))):ie.error(n.t("Download canceled")),delete a[d],me.set({...a})}};pt(async()=>{l(11,P=await Ot(localStorage.token).catch(d=>!1))});const ne=async d=>{const{reader:J,abortController:ae}=a[d];ae&&ae.abort(),J&&(await J.cancel(),delete a[d],me.set({...a}),await St(localStorage.token,d),ie.success(`${d} download has been canceled`))};function ce(){S=this.value,l(8,S)}const be=d=>{if(d.code==="Enter"&&t.length>0){l(0,Z=t[N].value),l(9,g=!1);return}else d.code==="ArrowDown"?l(12,N=Math.min(N+1,t.length-1)):d.code==="ArrowUp"?l(12,N=Math.max(N-1,0)):l(12,N=0);const J=document.querySelector('[data-arrow-selected="true"]');J==null||J.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},we=(d,J)=>{l(0,Z=d.value),l(12,N=J),l(9,g=!1)},ke=()=>{se()},$e=d=>{ne(d)},ye=async()=>{Fe.set(!u),await Wt("/");const d=document.getElementById("new-chat-button");setTimeout(()=>{d==null||d.click()},0),u?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),l(9,g=!1)},Ee=async()=>{l(8,S=""),l(12,N=0),window.setTimeout(()=>{var d;return(d=document.getElementById("model-search-input"))==null?void 0:d.focus()},0)};function De(d){g=d,l(9,g)}return r.$$set=d=>{"id"in d&&l(1,$=d.id),"value"in d&&l(0,Z=d.value),"placeholder"in d&&l(2,b=d.placeholder),"searchEnabled"in d&&l(3,y=d.searchEnabled),"searchPlaceholder"in d&&l(4,z=d.searchPlaceholder),"showTemporaryChatControl"in d&&l(5,D=d.showTemporaryChatControl),"items"in d&&l(22,q=d.items),"className"in d&&l(6,E=d.className),"triggerClassName"in d&&l(7,f=d.triggerClassName),"$$scope"in d&&l(32,_=d.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&4194305&&l(10,c=q.find(d=>d.value===Z)??""),r.$$.dirty[0]&4194560&&l(13,t=S?L.search(S).map(d=>d.item):q)},[Z,$,b,y,z,D,E,f,S,g,c,P,N,t,a,n,o,m,u,O,se,ne,q,v,ce,be,we,ke,$e,ye,Ee,De,_]}class Tl extends ct{constructor(e){super(),dt(this,e,ul,fl,ut,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:22,className:6,triggerClassName:7},null,[-1,-1])}}export{Tl as S};
//# sourceMappingURL=Selector.DRQn-PG1.js.map
