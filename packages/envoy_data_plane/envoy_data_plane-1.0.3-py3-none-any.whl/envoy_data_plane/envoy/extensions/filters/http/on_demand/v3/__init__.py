# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/http/on_demand/v3/on_demand.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass
from datetime import timedelta

import betterproto

from ......config.core import v3 as _____config_core_v3__


@dataclass(eq=False, repr=False)
class OnDemandCds(betterproto.Message):
    """Configuration of on-demand CDS."""

    source: "_____config_core_v3__.ConfigSource" = betterproto.message_field(1)
    """
    A configuration source for the service that will be used for on-demand
    cluster discovery.
    """

    resources_locator: str = betterproto.string_field(2)
    """xdstp:// resource locator for on-demand cluster collection."""

    timeout: timedelta = betterproto.message_field(3)
    """
    The timeout for on demand cluster lookup. If not set, defaults to 5
    seconds.
    """


@dataclass(eq=False, repr=False)
class OnDemand(betterproto.Message):
    """On Demand Discovery filter config."""

    odcds: "OnDemandCds" = betterproto.message_field(1)
    """
    An optional configuration for on-demand cluster discovery service. If not
    specified, the on-demand cluster discovery will be disabled. When it's
    specified, the filter will pause the request to an unknown cluster and will
    begin a cluster discovery process. When the discovery is finished
    (successfully or not), the request will be resumed for further processing.
    """


@dataclass(eq=False, repr=False)
class PerRouteConfig(betterproto.Message):
    """Per-route configuration for On Demand Discovery."""

    odcds: "OnDemandCds" = betterproto.message_field(1)
    """
    An optional configuration for on-demand cluster discovery service. If not
    specified, the on-demand cluster discovery will be disabled. When it's
    specified, the filter will pause the request to an unknown cluster and will
    begin a cluster discovery process. When the discovery is finished
    (successfully or not), the request will be resumed for further processing.
    """
