# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/http/header_mutation/v3/header_mutation.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass
from typing import List

import betterproto

from ......config.common.mutation_rules import (
    v3 as _____config_common_mutation_rules_v3__,
)


@dataclass(eq=False, repr=False)
class Mutations(betterproto.Message):
    request_mutations: List["_____config_common_mutation_rules_v3__.HeaderMutation"] = (
        betterproto.message_field(1)
    )
    """
    The request mutations are applied before the request is forwarded to the
    upstream cluster.
    """

    response_mutations: List[
        "_____config_common_mutation_rules_v3__.HeaderMutation"
    ] = betterproto.message_field(2)
    """
    The response mutations are applied before the response is sent to the
    downstream client.
    """


@dataclass(eq=False, repr=False)
class HeaderMutationPerRoute(betterproto.Message):
    """Per route configuration for the header mutation filter."""

    mutations: "Mutations" = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class HeaderMutation(betterproto.Message):
    """
    Configuration for the header mutation filter. The mutation rules in the
    filter configuration will always be applied first and then the per-route
    mutation rules, if both are specified.
    """

    mutations: "Mutations" = betterproto.message_field(1)
    most_specific_header_mutations_wins: bool = betterproto.bool_field(2)
    """
    If per route HeaderMutationPerRoute config is configured at multiple route
    levels, header mutations at all specified levels are evaluated. By default,
    the order is from most specific (i.e. route entry level) to least specific
    (i.e. route configuration level). Later header mutations may override
    earlier mutations. This order can be reversed by setting this field to
    true. In other words, most specific level mutation is evaluated last.
    """
