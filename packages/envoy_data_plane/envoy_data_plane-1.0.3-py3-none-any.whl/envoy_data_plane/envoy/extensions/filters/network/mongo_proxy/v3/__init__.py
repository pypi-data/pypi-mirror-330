# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/network/mongo_proxy/v3/mongo_proxy.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass
from typing import List

import betterproto

from ....common.fault import v3 as ___common_fault_v3__


@dataclass(eq=False, repr=False)
class MongoProxy(betterproto.Message):
    """[#next-free-field: 6]"""

    stat_prefix: str = betterproto.string_field(1)
    """
    The human readable prefix to use when emitting :ref:`statistics
    <config_network_filters_mongo_proxy_stats>`.
    """

    access_log: str = betterproto.string_field(2)
    """
    The optional path to use for writing Mongo access logs. If not access log
    path is specified no access logs will be written. Note that access log is
    also gated :ref:`runtime <config_network_filters_mongo_proxy_runtime>`.
    """

    delay: "___common_fault_v3__.FaultDelay" = betterproto.message_field(3)
    """
    Inject a fixed delay before proxying a Mongo operation. Delays are applied
    to the following MongoDB operations: Query, Insert, GetMore, and
    KillCursors. Once an active delay is in progress, all incoming data up
    until the timer event fires will be a part of the delay.
    """

    emit_dynamic_metadata: bool = betterproto.bool_field(4)
    """
    Flag to specify whether :ref:`dynamic metadata
    <config_network_filters_mongo_proxy_dynamic_metadata>` should be emitted.
    Defaults to false.
    """

    commands: List[str] = betterproto.string_field(5)
    """
    List of commands to emit metrics for. Defaults to "delete", "insert", and
    "update". Note that metrics will not be emitted for "find" commands, since
    those are considered queries, and metrics for those are emitted under a
    dedicated "query" namespace.
    """
