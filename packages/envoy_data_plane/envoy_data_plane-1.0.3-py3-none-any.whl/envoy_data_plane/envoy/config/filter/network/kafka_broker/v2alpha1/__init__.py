# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/config/filter/network/kafka_broker/v2alpha1/kafka_broker.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass
from typing import List

import betterproto


@dataclass(eq=False, repr=False)
class KafkaBroker(betterproto.Message):
    stat_prefix: str = betterproto.string_field(1)
    """
    The prefix to use when emitting :ref:`statistics
    <config_network_filters_kafka_broker_stats>`.
    """

    force_response_rewrite: bool = betterproto.bool_field(2)
    """
    Set to true if broker filter should attempt to serialize the received
    responses from the upstream broker instead of passing received bytes as is.
    Disabled by default.
    """

    id_based_broker_address_rewrite_spec: "IdBasedBrokerRewriteSpec" = (
        betterproto.message_field(3, group="broker_address_rewrite_spec")
    )
    """Broker address rewrite rules that match by broker ID."""


@dataclass(eq=False, repr=False)
class IdBasedBrokerRewriteSpec(betterproto.Message):
    """Collection of rules matching by broker ID."""

    rules: List["IdBasedBrokerRewriteRule"] = betterproto.message_field(1)


@dataclass(eq=False, repr=False)
class IdBasedBrokerRewriteRule(betterproto.Message):
    """Defines a rule to rewrite broker address data."""

    id: int = betterproto.uint32_field(1)
    """Broker ID to match."""

    host: str = betterproto.string_field(2)
    """
    The host value to use (resembling the host part of Kafka's
    advertised.listeners). The value should point to the Envoy (not Kafka)
    listener, so that all client traffic goes through Envoy.
    """

    port: int = betterproto.uint32_field(3)
    """
    The port value to use (resembling the port part of Kafka's
    advertised.listeners). The value should point to the Envoy (not Kafka)
    listener, so that all client traffic goes through Envoy.
    """
