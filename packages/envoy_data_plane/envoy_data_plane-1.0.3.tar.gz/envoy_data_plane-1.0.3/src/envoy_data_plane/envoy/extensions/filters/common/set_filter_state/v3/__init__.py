# Generated by the protocol buffer compiler.  DO NOT EDIT!
# sources: envoy/extensions/filters/common/set_filter_state/v3/value.proto
# plugin: python-betterproto
# This file has been @generated

from dataclasses import dataclass

import betterproto

from ......config.core import v3 as _____config_core_v3__


class FilterStateValueSharedWithUpstream(betterproto.Enum):
    NONE = 0
    """Object is not shared with the upstream internal connections."""

    ONCE = 1
    """Object is shared with the upstream internal connection."""

    TRANSITIVE = 2
    """
    Object is shared with the upstream internal connection and any internal
    connection upstream from it.
    """


@dataclass(eq=False, repr=False)
class FilterStateValue(betterproto.Message):
    """A filter state key and value pair. [#next-free-field: 7]"""

    object_key: str = betterproto.string_field(1, group="key")
    """
    Filter state object key. The key is used to lookup the object factory,
    unless :ref:`factory_key <envoy_v3_api_field_extensions.filters.common.set_
    filter_state.v3.FilterStateValue.factory_key>` is set. See :ref:`the well-
    known filter state keys <well_known_filter_state>` for a list of valid
    object keys.
    """

    factory_key: str = betterproto.string_field(6)
    """
    Optional filter object factory lookup key. See :ref:`the well-known filter
    state keys <well_known_filter_state>` for a list of valid factory keys.
    """

    format_string: "_____config_core_v3__.SubstitutionFormatString" = (
        betterproto.message_field(2, group="value")
    )
    """
    Uses the :ref:`format string <config_access_log_format_strings>` to
    instantiate the filter state object value.
    """

    read_only: bool = betterproto.bool_field(3)
    """
    If marked as read-only, the filter state key value is locked, and cannot be
    overridden by any filter, including this filter.
    """

    shared_with_upstream: "FilterStateValueSharedWithUpstream" = betterproto.enum_field(
        4
    )
    """
    Configures the object to be shared with the upstream internal connections.
    See :ref:`internal upstream transport <config_internal_upstream_transport>`
    for more details on the filter state sharing with the internal connections.
    """

    skip_if_empty: bool = betterproto.bool_field(5)
    """
    Skip the update if the value evaluates to an empty string. This option can
    be used to supply multiple alternatives for the same filter state object
    key.
    """
