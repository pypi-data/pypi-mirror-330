import{s as J,n as x,d as _,a as C,w as c,z as le,i as U,b as m,A as de,c as w,e as $,f as B,g as M,B as ne,h as k,t as N,j as O,C as oe,D as _e,E as he,o as T}from"../chunks/ByuL26re.js";import{S as K,i as Q,t as v,a as h,g as R,c as W,d as X,m as Y,e as Z,b as ee}from"../chunks/BJvdQk2J.js";import{e as ie,c as pe,d as ge}from"../chunks/DlI0b1vt.js";import{p as ce}from"../chunks/B9u33kEZ.js";import{s as ve,L as be}from"../chunks/DklFMfKk.js";import{g as $e}from"../chunks/eC-9woXp.js";const we=!1,ke=!1,Ue=Object.freeze(Object.defineProperty({__proto__:null,prerender:we,ssr:ke},Symbol.toStringTag,{value:"Module"}));function De(n){let s,a,e,t=n[0].name+"",o,r,i,l,u=n[0].num_items+"",b,V,S=n[0].num_items>1?"s":"",I,q,j=n[0].size&&n[0].size!="Unknown"&&n[0].size!="N/A"?" - "+n[0].size:"",L,F,p,D,G,y,g,P,A,H,te;return{c(){s=k("button"),a=k("div"),e=k("h3"),o=N(t),i=O(),l=k("p"),b=N(u),V=N(" item"),I=N(S),q=O(),L=N(j),F=O(),p=oe("svg"),D=oe("path"),G=O(),y=k("div"),g=k("img"),this.h()},l(f){s=w(f,"BUTTON",{class:!0});var d=$(s);a=w(d,"DIV",{class:!0});var z=$(a);e=w(z,"H3",{class:!0,title:!0});var se=$(e);o=B(se,t),se.forEach(_),i=M(z),l=w(z,"P",{class:!0});var E=$(l);b=B(E,u),V=B(E," item"),I=B(E,S),q=M(E),L=B(E,j),E.forEach(_),F=M(z),p=ne(z,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var ae=$(p);D=ne(ae,"path",{d:!0,fill:!0}),$(D).forEach(_),ae.forEach(_),z.forEach(_),G=M(d),y=w(d,"DIV",{class:!0});var re=$(y);g=w(re,"IMG",{src:!0,alt:!0,class:!0}),re.forEach(_),d.forEach(_),this.h()},h(){c(e,"class","text-lg w-5/6 font-semibold truncate text-primary"),c(e,"title",r=n[0].name+" \r"+n[0].description),c(l,"class","text-sm text-slate-500 font-medium"),c(D,"d",ve),c(D,"fill","currentcolor"),c(p,"xmlns","http://www.w3.org/2000/svg"),c(p,"height","48"),c(p,"viewBox","0 -960 960 960"),c(p,"width","48"),c(p,"class","absolute right-5 h-8 w-8 mx-auto p-1 border text-slate-800 rounded-full border-slate-300 transition-colors hover:bg-slate-200"),c(a,"class","w-full h-1/4 pt-4 px-4 flex flex-col justify-center relative"),le(g.src,P=n[0].preview??ce)||c(g,"src",P),c(g,"alt",A=n[0].name+" thumbnail"),c(g,"class","w-[350px] h-[176px] rounded-sm object-contain object-center"),c(y,"class","m-4 bg-slate-50"),c(s,"class","w-96 h-72 flex flex-col text-left font-Montserrat bg-white rounded-sm shadow shadow-slate-300 transition-shadow hover:shadow-xl")},m(f,d){U(f,s,d),m(s,a),m(a,e),m(e,o),m(a,i),m(a,l),m(l,b),m(l,V),m(l,I),m(l,q),m(l,L),m(a,F),m(a,p),m(p,D),m(s,G),m(s,y),m(y,g),H||(te=de(s,"click",n[1]),H=!0)},p(f,[d]){d&1&&t!==(t=f[0].name+"")&&C(o,t),d&1&&r!==(r=f[0].name+" \r"+f[0].description)&&c(e,"title",r),d&1&&u!==(u=f[0].num_items+"")&&C(b,u),d&1&&S!==(S=f[0].num_items>1?"s":"")&&C(I,S),d&1&&j!==(j=f[0].size&&f[0].size!="Unknown"&&f[0].size!="N/A"?" - "+f[0].size:"")&&C(L,j),d&1&&!le(g.src,P=f[0].preview??ce)&&c(g,"src",P),d&1&&A!==(A=f[0].name+" thumbnail")&&c(g,"alt",A)},i:x,o:x,d(f){f&&_(s),H=!1,te()}}}function ye(n,s,a){let{dataset:e}=s;const t=_e();function o(){t("selectDataset")}return n.$$set=r=>{"dataset"in r&&a(0,e=r.dataset)},[e,o]}class ze extends K{constructor(s){super(),Q(this,s,ye,De,J,{dataset:0})}}function ue(n,s,a){const e=n.slice();return e[3]=s[a],e}function Ee(n){let s,a;return s=new be({props:{class:"animate-spin"}}),{c(){ee(s.$$.fragment)},l(e){Z(s.$$.fragment,e)},m(e,t){Y(s,e,t),a=!0},p:x,i(e){a||(h(s.$$.fragment,e),a=!0)},o(e){v(s.$$.fragment,e),a=!1},d(e){X(s,e)}}}function Se(n){let s,a,e=ie(n[0]),t=[];for(let r=0;r<e.length;r+=1)t[r]=me(ue(n,e,r));const o=r=>v(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();s=T()},l(r){for(let i=0;i<t.length;i+=1)t[i].l(r);s=T()},m(r,i){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(r,i);U(r,s,i),a=!0},p(r,i){if(i&3){e=ie(r[0]);let l;for(l=0;l<e.length;l+=1){const u=ue(r,e,l);t[l]?(t[l].p(u,i),h(t[l],1)):(t[l]=me(u),t[l].c(),h(t[l],1),t[l].m(s.parentNode,s))}for(R(),l=e.length;l<t.length;l+=1)o(l);W()}},i(r){if(!a){for(let i=0;i<e.length;i+=1)h(t[i]);a=!0}},o(r){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)v(t[i]);a=!1},d(r){r&&_(s),he(t,r)}}}function fe(n){let s,a;function e(){return n[2](n[3])}return s=new ze({props:{dataset:n[3]}}),s.$on("selectDataset",e),{c(){ee(s.$$.fragment)},l(t){Z(s.$$.fragment,t)},m(t,o){Y(s,t,o),a=!0},p(t,o){n=t;const r={};o&1&&(r.dataset=n[3]),s.$set(r)},i(t){a||(h(s.$$.fragment,t),a=!0)},o(t){v(s.$$.fragment,t),a=!1},d(t){X(s,t)}}}function me(n){let s,a,e=!n[3].isFiltered&&fe(n);return{c(){e&&e.c(),s=T()},l(t){e&&e.l(t),s=T()},m(t,o){e&&e.m(t,o),U(t,s,o),a=!0},p(t,o){t[3].isFiltered?e&&(R(),v(e,1,1,()=>{e=null}),W()):e?(e.p(t,o),o&1&&h(e,1)):(e=fe(t),e.c(),h(e,1),e.m(s.parentNode,s))},i(t){a||(h(e),a=!0)},o(t){v(e),a=!1},d(t){t&&_(s),e&&e.d(t)}}}function je(n){let s,a,e,t;const o=[Se,Ee],r=[];function i(l,u){return l[0]?0:1}return a=i(n),e=r[a]=o[a](n),{c(){s=k("div"),e.c(),this.h()},l(l){s=w(l,"DIV",{class:!0});var u=$(s);e.l(u),u.forEach(_),this.h()},h(){c(s,"class","flex flex-wrap justify-center gap-6 py-12")},m(l,u){U(l,s,u),r[a].m(s,null),t=!0},p(l,[u]){let b=a;a=i(l),a===b?r[a].p(l,u):(R(),v(r[b],1,1,()=>{r[b]=null}),W(),e=r[a],e?e.p(l,u):(e=r[a]=o[a](l),e.c()),h(e,1),e.m(s,null))},i(l){t||(h(e),t=!0)},o(l){v(e),t=!1},d(l){l&&_(s),r[a].d()}}}function Be(n,s,a){let{datasets:e}=s;const t=async r=>{pe.set(r),await $e(`${r.id}/dataset`)},o=r=>t(r);return n.$$set=r=>{"datasets"in r&&a(0,e=r.datasets)},[e,t,o]}class Ne extends K{constructor(s){super(),Q(this,s,Be,je,J,{datasets:0})}}function Ie(n){let s,a;return s=new Ne({props:{datasets:n[0]}}),{c(){ee(s.$$.fragment)},l(e){Z(s.$$.fragment,e)},m(e,t){Y(s,e,t),a=!0},p(e,[t]){const o={};t&1&&(o.datasets=e[0]),s.$set(o)},i(e){a||(h(s.$$.fragment,e),a=!0)},o(e){v(s.$$.fragment,e),a=!1},d(e){X(s,e)}}}function Le(n,s,a){let e;return ge.subscribe(t=>{t&&a(0,e=t)}),[e]}class Ve extends K{constructor(s){super(),Q(this,s,Le,Ie,J,{})}}export{Ve as component,Ue as universal};
