# Generated by https://smithery.ai. See: https://smithery.ai/docs/config#dockerfile
# Start with the official Python image
FROM python:3.10-slim as base

# Set environment variables
ENV WECOM_WEBHOOK_URL="your WeCom bot webhook URL"
ENV PYTHONUNBUFFERED=1
ENV PIP_DISABLE_PIP_VERSION_CHECK=1

# Install uv
RUN pip install --no-cache-dir uv

# Set the working directory
WORKDIR /app

# Copy the project files to the container
COPY pyproject.toml README.md ./
COPY src/ src/

# Install dependencies with uv
RUN uv pip install --system .

# Expose the necessary port (change this if needed)
EXPOSE 8000

# Run the server using uvx
ENTRYPOINT ["uvx", "wecom-bot-mcp-server"]