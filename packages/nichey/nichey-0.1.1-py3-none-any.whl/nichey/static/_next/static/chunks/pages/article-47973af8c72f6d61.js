(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{1205:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/article",function(){return r(7957)}])},8196:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i={src:"/_next/static/media/DeleteIcon.f2407bd6.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3KG9qAAAACnRSTlMBkTmeKnYVx3RNBEX1lAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAySURBVHicLcbHEQAwCASxhSO5/4Y9DnoJcMkBsrs7gYmqGMA80+3G7GfmZVWtk5CkYAMaDQC3yzKOHwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},96:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var i=r(4848);function l(e){let{value:t,onClick:r}=e;return(0,i.jsx)("button",{onClick:r,style:{padding:"5px"},children:t})}},4374:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var i=r(4848);r(6540);var l=r(9627),n=r(4804),a=r(7833),o=r.n(a);function s(e){let{children:t}=e;return(0,i.jsx)("div",{className:o().article,children:(0,i.jsx)(l.o,{remarkPlugins:[n.A],children:(e=>{if(!e)return"";let t=0,r=()=>t+=1;return e.replace(/\[\[([^\]|]+)\|?([^\]]*)\]\]/g,(e,t,i)=>{let l=t.trim().replace(/\s+/g,"-").toLowerCase(),n=i.trim()||t.trim();if("@"==n.charAt(0)){let e=r();return"[[".concat(e,"]](/source?id=").concat(n.substring(1),")")}return"[".concat(n,"](/article?e=").concat(l,")")})})(t)})})}},5697:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var i=r(4848);let l={src:"/_next/static/media/CloseIcon.8995a7c5.png"};var n=r(6540),a=r(961),o=r(4881),s=r.n(o);function c(e){let{isOpen:t,close:r,title:o,minWidth:c="500px",minHeight:d="unset",style:A,children:u}=e,h=(0,n.useRef)(null),p=(0,n.useRef)(null),g=(0,n.useRef)(null);return((0,n.useEffect)(()=>{let e=e=>{e.target===h.current&&r()};try{t?window.addEventListener("mousedown",e,{capture:!0}):window.removeEventListener("mousedown",e,{capture:!0})}catch(e){}return()=>{try{window.removeEventListener("mousedown",e,{capture:!0})}catch(e){}}},[t,r]),t)?a.createPortal((0,i.jsx)("div",{className:s().overlay,style:A,ref:h,children:(0,i.jsx)("div",{className:s().containerContainer,ref:g,style:{overflow:"hidden",transition:"all .1s linear"},children:(0,i.jsxs)("div",{className:s().container,style:{},ref:p,children:[(0,i.jsxs)("div",{className:s().header,children:[(0,i.jsx)("div",{className:s().title,children:o}),(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},onClick:()=>{r()},children:(0,i.jsx)("img",{src:l.src,style:{cursor:"pointer"},onClick:r,alt:"Close",width:17,height:17})})]}),(0,i.jsx)("div",{className:s().body,children:u})]})})}),document.body):""}},7957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(4848),l=r(6540),n=r(4374),a=r(3368),o=r.n(a),s=r(6715),c=r(6080),d=r(8196);let A={src:"/_next/static/media/EditIcon.8f1ff925.png"};var u=r(5697),h=r(96);function p(e){var t;let{}=e,r=null===(t=(0,s.useRouter)().query)||void 0===t?void 0:t.e,[a,p]=(0,l.useState)(),[g,v]=(0,l.useState)(void 0),[f,x]=(0,l.useState)(!1),[m,y]=(0,l.useState)(!1),{setPath:w}=(0,c.ok)();async function _(){try{let e="".concat("","/api/page?slug=").concat(r),t=await fetch(e,{method:"GET"});if(!t.ok)throw Error("Response was not ok");let i=await t.json();p(i.entity),v(!0)}catch(e){console.log(e),v(!1)}}async function j(){try{let e={slug:r,markdown:null==a?void 0:a.markdown};if(!(await fetch("".concat("","/api/update-entity"),{headers:{"Content-Type":"application/json"},body:JSON.stringify(e),method:"POST"})).ok)throw Error("Could not save")}catch(e){console.log(e)}}async function k(){y(!1);try{if(!(await fetch("".concat("","/api/delete-entity"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:r}),method:"POST"})).ok)throw Error("Could not save");_()}catch(e){console.log(e)}}return(0,l.useEffect)(()=>a?(w([{href:{pathname:"/articles"},title:"Articles"},{href:{pathname:"/article",query:{e:a.slug}},title:a.title}]),()=>{w([])}):(w([{href:{pathname:"/articles"},title:"Articles"}]),()=>{w([])}),[a]),(0,l.useEffect)(()=>{r&&_()},[r]),(0,i.jsxs)("div",{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:null==a?void 0:a.title})}),!1===g?(0,i.jsx)("div",{children:"Could not find page for '".concat(r,"'")}):(null==a?void 0:a.markdown)?f?(0,i.jsx)("textarea",{onChange:e=>{p(t=>({...t,markdown:e.target.value}))},style:{width:"100%",height:"75vh"},children:null==a?void 0:a.markdown}):(0,i.jsx)(n.A,{children:null==a?void 0:a.markdown}):(0,i.jsx)("div",{children:"Page for ".concat(null==a?void 0:a.title," is not yet written.")}),(0,i.jsxs)("div",{style:{position:"fixed",right:"10px",bottom:"10px",display:"flex",gap:"10px",alignItems:"center"},children:[(0,i.jsx)("div",{onClick:()=>{y(!0)},style:{backgroundColor:"var(--highlight)",border:"1px solid var(--border-color)",borderRadius:"5px",padding:"5px",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,i.jsx)("img",{src:d.A.src,width:20,height:20,alt:"Delete"})}),(0,i.jsx)(u.A,{title:"Delete",isOpen:m,close:()=>y(!1),children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},children:[(0,i.jsx)("div",{children:"Are you sure you would like to delete the page ".concat(null==a?void 0:a.title,"?")}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,i.jsx)(h.A,{value:"Delete",onClick:()=>k()}),(0,i.jsx)(h.A,{value:"Cancel",onClick:()=>{y(!1)}})]})]})}),(0,i.jsx)("div",{onClick:function(){f&&j(),x(!f)},style:{backgroundColor:"var(--highlight)",border:"1px solid var(--border-color)",borderRadius:"var(--small-border-radius)",padding:"5px",cursor:"pointer",display:"flex",alignItems:"center"},children:f?"Save":(0,i.jsx)("img",{src:A.src,width:20,height:20,alt:"Edit"})})]})]})}},7833:e=>{e.exports={article:"MarkdownViewer_article__CXqGO",editorArticle:"MarkdownViewer_editorArticle__Qa97H"}},4881:e=>{e.exports={overlay:"Modal_overlay__2Sh3U",fadeIn:"Modal_fadeIn__Oj_FH",container:"Modal_container__jKKR0",closeModal:"Modal_closeModal__QVqd2",header:"Modal_header__Pfr2K",title:"Modal_title__a7vfd",body:"Modal_body__KZX7m"}}},e=>{var t=t=>e(e.s=t);e.O(0,[9,636,593,792],()=>t(1205)),_N_E=e.O()}]);