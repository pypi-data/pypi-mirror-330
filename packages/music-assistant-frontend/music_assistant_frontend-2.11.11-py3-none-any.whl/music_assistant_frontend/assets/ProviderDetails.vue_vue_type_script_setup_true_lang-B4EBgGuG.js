import{g as M,p as ee,ac as te,A as ie,B as i,ad as ae,N as ne,Q as K,Z as m,S as t,ao as U,U as a,ak as T,aq as oe,R as p,x as F,l as le,w as se,c as x,bk as re,a5 as j,b2 as H,a7 as W,a0 as y,a9 as d,bb as me,V as Z,W as $,bl as ue,aU as de,al as R,aa as u,aV as B,bm as ce,D as pe,G as A,$ as S,a2 as G,a$ as ye,aw as q,a4 as z,bn as fe,bi as ge,bo as ke,bp as he,bq as ve,br as be,Y as $e,a1 as Ce,ap as we,aj as _e}from"./index-wa6ZR3Vv.js";import{_ as Y}from"./ProviderIcon.vue_vue_type_style_index_0_lang-D9F0jQZF.js";import{g as N,M as Q,V as Ve,c as Te}from"./MediaItemThumb-NvX65VTm.js";import{T as J}from"./Toolbar-DpV6EyIp.js";import{M as P,a as Ie}from"./marquee_text_sync-CpXnAygQ.js";import{a as I,f as De}from"./VBtn-HJWd6woI.js";import{V as Le}from"./VDialog-BH5O4aJJ.js";import{c as Be,b as Pe}from"./layout-VYO7rhSx.js";import{b as Re}from"./VChip-DYRQux5x.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{L as X}from"./ListItem-B9Eh52NB.js";import{C as Ae}from"./Container-BgGtLyGe.js";const Se=ee({...ne(),...ae(),...Pe()},"VLayout"),ze=M()({name:"VLayout",props:Se(),setup(C,c){let{slots:f}=c;const{layoutClasses:s,layoutStyles:k,getLayoutItem:w,items:D,layoutRef:h}=Be(C),{dimensionStyles:v}=te(C);return ie(()=>{var L;return i("div",{ref:h,class:[s.value,C.class],style:[v.value,k.value,C.style]},[(L=f.default)==null?void 0:L.call(f)])}),{getLayoutItem:w,items:D}}}),Ue=K({__name:"MenuButton",props:{icon:{default:void 0},text:{default:void 0},disabled:{type:Boolean,default:!1},width:{default:200},loading:{type:Boolean,default:!0}},emits:["click","menu"],setup(C,{emit:c}){const f=c;return(s,k)=>(t(),m("div",{style:U(`width: ${s.width}px; height: 30px;`)},[i(I,{variant:"tonal",style:U(`
            width: ${s.width}px;
            position: absolute;
            border: 1px solid #cccccc4d;
            height: 38px;
            margin-top: -1px;
            margin-left: -1px;
          `),disabled:s.loading,onClick:k[0]||(k[0]=w=>f("menu"))},{default:a(()=>[i(T,{icon:"mdi-menu-down",size:"xx-large",style:U(`width: 20px; margin-left: ${s.width-42}px`)},null,8,["style"])]),_:1},8,["style","disabled"]),i(I,{color:"primary",flat:"",disabled:s.disabled||s.loading,style:U(`width: ${s.width-40}px; justify-content: left;`),text:s.text,onClick:k[1]||(k[1]=w=>f("click"))},oe({_:2},[s.icon&&s.text.length<12||s.loading?{name:"prepend",fn:a(()=>[s.loading?(t(),p(De,{key:0,color:"grey-lighten-5",indeterminate:""})):(t(),p(T,{key:1,icon:s.icon,size:"x-large"},null,8,["icon"]))]),key:"0"}:void 0]),1032,["disabled","style","text"])],4))}}),He={key:0,xs5:"","pa-5":"",style:{height:"80%","min-width":"230px","margin-top":"25px","margin-bottom":"15px","margin-right":"24px","align-content":"center","flex-shrink":"0"}},Ne={key:0},Fe={key:1},je={style:{"min-width":"0"}},qe=["src"],Ee={style:{"padding-bottom":"10px"}},Ge=["onClick"],Ye={style:{color:"accent"}},Ke={style:{color:"accent"}},Oe={style:{color:"primary"}},We={style:{display:"flex","margin-left":"14px","padding-bottom":"10px",cursor:"pointer !important"}},Qe=["innerHTML"],Xe={key:3,class:"justify-center",style:{"margin-left":"15px","padding-bottom":"20px"}},Ze=K({__name:"InfoHeader",props:{item:{}},setup(C){const c=C,f=F(!1),s=F(),{mobile:k}=le(),w=F([]),D=new URL(""+new URL("info_gradient-C5d1dalX.jpg",import.meta.url).href,import.meta.url).href,h=new Ie,v=ke();se(()=>c.item,async e=>{e?(s.value=N(e,H.FANART)||N(e,H.LANDSCAPE)||N(e,H.THUMB)||D,w.value=await ve([e],e)):(s.value=D,w.value=[])},{immediate:!0});const L=function(e){v.push({name:"album",params:{itemId:e.item_id,provider:e.provider}})},E=function(e){v.push({name:"artist",params:{itemId:e.item_id,provider:e.provider}})},n=function(){var r;if(G.prevRoute){v.back();return}const e=((r=v.currentRoute.value.name)==null?void 0:r.toString())||"";for(const l of["artist","album","track","playlist","radio"])if(e.includes(l)){v.push({name:`${l}s`});return}v.push({name:"home"})},g=function(e=!1){const r=document.getElementById("playbutton");he(c.item,r.getBoundingClientRect().left,r.getBoundingClientRect().top+36,void 0,e)},V=x(()=>c.item?c.item.metadata&&c.item.metadata.description?c.item.metadata.description:c.item.metadata&&c.item.metadata.copyright?c.item.metadata.copyright:("artists"in c.item&&c.item.artists.forEach(function(e){if("metadata"in e&&e.metadata.description)return e.metadata.description}),""):""),o=x(()=>re(V.value)),_=x(()=>{const e=k.value?160:300;return V.value.length>e?o.value.substring(0,e)+"...":o.value}),O=x(()=>{if(c.item&&c.item.media_type==j.ARTIST)return N(c.item,H.LOGO)});return(e,r)=>(t(),m("div",null,[i(W,{variant:"flat",img:y(D),style:{"z-index":"0","border-radius":"0px"},height:"25vh","max-height":"500px","min-height":"340px"},{default:a(()=>[e.item?d("",!0):(t(),p(me,{key:0,indeterminate:""})),i(Z,{width:"100%",height:"100%",cover:"",class:"background-image",src:s.value,gradient:e.$vuetify.theme.current.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},null,8,["src","gradient"]),i(J,{icon:"mdi-arrow-left",style:{position:"absolute"},"menu-items":w.value,"enforce-overflow-menu":!0,"show-loading":!0,"icon-action":n},null,8,["menu-items"]),e.item?(t(),p(ze,{key:1,style:{margin:"0",top:"55%","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)","padding-left":"15px","align-items":"center","padding-right":"15px",display:"flex",width:"100%"}},{default:a(()=>[e.$vuetify.display.mobile?d("",!0):(t(),m("div",He,[e.item.media_type&&e.item.media_type==y(j).ARTIST?(t(),m("div",Ne,[i(ue,{size:"210",style:{"margin-bottom":"10%"}},{default:a(()=>[i(Q,{item:e.item,size:"calc(100%)"},null,8,["item"])]),_:1})])):(t(),m("div",Fe,[i(Q,{item:e.item,size:"calc(100%)",style:{"max-height":"256px"}},null,8,["item"])]))])),$("div",je,[O.value?(t(),m("img",{key:0,src:O.value,width:"auto",height:"80",style:{"padding-left":"10px"}},null,8,qe)):(t(),p(de,{key:1},{default:a(()=>[i(P,{sync:y(h)},{default:a(()=>[R(u(e.item.name),1)]),_:1},8,["sync"])]),_:1})),$("div",Ee,["version"in e.item&&e.item.version?(t(),p(B,{key:0,class:"caption"},{default:a(()=>[R(u(e.item.version)+" ",1),i(Ve,{location:"bottom"},{activator:a(({props:l})=>[y(ce)(e.item.metadata.explicit||!1)?(t(),p(T,pe({key:0},l,{icon:"mdi-alpha-e-box",width:"35"}),null,16)):d("",!0)]),default:a(()=>[$("span",null,u(e.$t("tooltip.explicit")),1)]),_:1})]),_:1})):d("",!0),"artists"in e.item&&e.item.artists?(t(),p(B,{key:1,class:"title accent--text d-flex"},{default:a(()=>[i(T,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-music"}),i(P,{sync:y(h)},{default:a(()=>[(t(!0),m(A,null,S(e.item.artists,(l,b)=>(t(),m("span",{key:l.item_id},[$("a",{style:{color:"accent"},onClick:it=>E(l)},u(l.name),9,Ge),b+1<e.item.artists.length?(t(),m("span",{key:b,style:{color:"accent"}},u(" / "))):d("",!0)]))),128))]),_:1},8,["sync"])]),_:1})):d("",!0),"authors"in e.item&&e.item.authors.length>0?(t(),p(B,{key:2,class:"title accent--text d-flex"},{default:a(()=>[i(T,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-edit"}),i(P,{sync:y(h)},{default:a(()=>[(t(!0),m(A,null,S(e.item.authors,(l,b)=>(t(),m("span",{key:l},[$("span",Ye,u(l),1),b+1<e.item.authors.length?(t(),m("span",{key:b,style:{color:"accent"}},u(" / "))):d("",!0)]))),128))]),_:1},8,["sync"])]),_:1})):d("",!0),"narrators"in e.item&&e.item.narrators.length>0?(t(),p(B,{key:3,class:"title accent--text d-flex"},{default:a(()=>[i(T,{style:{"margin-left":"-3px","margin-right":"3px"},small:"",color:"primary",icon:"mdi-account-voice"}),i(P,{sync:y(h)},{default:a(()=>[(t(!0),m(A,null,S(e.item.narrators,(l,b)=>(t(),m("span",{key:l},[$("span",Ke,u(l),1),b+1<e.item.narrators.length?(t(),m("span",{key:b,style:{color:"accent"}},u(" / "))):d("",!0)]))),128))]),_:1},8,["sync"])]),_:1})):d("",!0),"owner"in e.item&&e.item.owner?(t(),p(B,{key:4,class:"title d-flex"},{default:a(()=>[i(T,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-account-music"}),i(P,{sync:y(h)},{default:a(()=>[$("a",Oe,u(e.item.owner),1)]),_:1},8,["sync"])]),_:1})):d("",!0),"album"in e.item&&e.item.album?(t(),p(B,{key:5,class:"d-flex"},{default:a(()=>[i(T,{color:"primary",style:{"margin-left":"-3px","margin-right":"3px"},small:"",icon:"mdi-album"}),i(P,{sync:y(h)},{default:a(()=>[$("a",{style:{color:"secondary"},onClick:r[0]||(r[0]=l=>{var b;return L((b=e.item)==null?void 0:b.album)})},u(e.item.album.name),1)]),_:1},8,["sync"])]),_:1})):d("",!0)]),$("div",We,[i(Ue,{id:"playbutton",width:220,icon:"mdi-play-circle-outline",text:y(ye)(e.$t("play"),14),disabled:!e.item,loading:y(G).playActionInProgress,"open-menu-on-click":!y(G).activePlayer,onClick:g,onMenu:r[1]||(r[1]=l=>g(!0))},null,8,["text","disabled","loading","open-menu-on-click"]),i(I,{variant:"plain",ripple:"",icon:e.item.favorite?"mdi-heart":"mdi-heart-outline",size:"x-large",style:{"margin-top":"-14px"},title:e.$t("tooltip.favorite"),onClick:[r[2]||(r[2]=l=>y(z).toggleFavorite(e.item)),r[3]||(r[3]=q(()=>{},["prevent"])),r[4]||(r[4]=q(()=>{},["stop"]))]},null,8,["icon","title"]),i(Y,{domain:e.item.provider,size:25,style:{"margin-top":"6px"}},null,8,["domain"])]),_.value?(t(),p(B,{key:2,class:"body-2 justify-left",style:{"padding-bottom":"10px","white-space":"pre-line",cursor:"pointer"},onClick:r[5]||(r[5]=l=>f.value=!f.value)},{default:a(()=>[$("div",{innerHTML:_.value},null,8,Qe)]),_:1})):d("",!0),e.item&&e.item.metadata.genres?(t(),m("div",Xe,[(t(!0),m(A,null,S(e.item.metadata.genres.slice(0,e.$vuetify.display.mobile?15:25),l=>(t(),p(Re,{key:l,color:"blue-grey lighten-1",style:{"margin-right":"5px","margin-bottom":"5px"},small:"",outlined:""},{default:a(()=>[R(u(l),1)]),_:2},1024))),128))])):d("",!0)])]),_:1})):d("",!0)]),_:1},8,["img"]),i(Le,{modelValue:f.value,"onUpdate:modelValue":r[7]||(r[7]=l=>f.value=l),"max-width":"975",width:"auto"},{default:a(()=>[i(W,null,{default:a(()=>[i(fe,{innerHTML:o.value},null,8,["innerHTML"]),i(ge,null,{default:a(()=>[i(I,{color:"primary",block:"",onClick:r[6]||(r[6]=l=>f.value=!1)},{default:a(()=>[R(u(e.$t("close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ft=xe(Ze,[["__scopeId","data-v-092bb089"]]),Je={style:{"margin-bottom":"10px"}},Me={key:0},et=["title","onClick"],tt=["title"],gt=K({__name:"ProviderDetails",props:{itemDetails:{}},setup(C){const c=C,f=F(!1),s=function(n){window.open(n,"_blank")},k=be({}),w=function(n){const g=`${n.provider_instance}.${n.item_id}`,V=k[g];if(V)V.load(),delete k[g];else{const o=new Audio(D(n.provider_instance,n.item_id));k[g]=o,o.play()}},D=function(n,g){return`${z.baseUrl}/preview?item_id=${encodeURIComponent(g)}&provider=${n}`},h=function(n){var g;return`${(g=z.getProvider(n.provider_instance))==null?void 0:g.lookup_key}://${c.itemDetails.media_type}/${n.item_id}`},v=function(n){navigator.clipboard.writeText(n)},L=function(){f.value=!f.value},E=x(()=>[{label:"tooltip.collapse_expand",icon:f.value?"mdi-chevron-up":"mdi-chevron-down",action:L,overflowAllowed:!1}]);return(n,g)=>(t(),m("section",Je,[i(J,{title:n.$t("mapped_providers"),"menu-items":E.value,onTitleClicked:L},null,8,["title","menu-items"]),i($e),f.value?(t(),p(Ae,{key:0},{default:a(()=>[i(Ce,null,{default:a(()=>{var V;return[(t(!0),m(A,null,S((V=n.itemDetails)==null?void 0:V.provider_mappings,o=>(t(),p(X,{key:o.provider_instance,disabled:!o.available||!y(z).getProvider(o.provider_instance)},{prepend:a(()=>[i(Y,{domain:o.provider_domain,size:30},null,8,["domain"])]),title:a(()=>{var _;return[R(u((_=y(z).getProvider(o.provider_instance))==null?void 0:_.name),1)]}),subtitle:a(()=>[n.itemDetails.media_type==y(j).TRACK&&o.audio_format?(t(),m("span",Me,u(o.audio_format.content_type)+" | "+u(o.audio_format.sample_rate/1e3)+"kHz/"+u(o.audio_format.bit_depth)+" bits | ",1)):d("",!0),o.url&&!o.provider_domain.startsWith("file")?(t(),m("a",{key:1,style:{opacity:"0.4"},title:n.$t("tooltip.open_provider_link"),onClick:q(_=>s(o.url),["prevent"])},u(h(o)),9,et)):(t(),m("span",{key:2,style:{opacity:"0.4"},title:n.$t("copy_uri")},u(h(o)),9,tt))]),append:a(()=>[o.audio_format&&o.audio_format.bit_depth>16?(t(),p(Z,{key:0,src:y(Te),width:"30",class:we(n.$vuetify.theme.current.dark?"hiresicondark":"hiresicon"),style:{"margin-right":"15px"}},null,8,["src","class"])):d("",!0),y(_e)("bp1")&&n.itemDetails.media_type==y(j).TRACK?(t(),p(I,{key:1,icon:k[`${o.provider_instance}.${o.item_id}`]?"mdi-pause":"mdi-play-circle",title:n.$t("tooltip.play_sample"),onClick:_=>w(o)},null,8,["icon","title","onClick"])):d("",!0),o.url?(t(),p(I,{key:2,icon:"mdi-open-in-new",title:n.$t("tooltip.open_provider_link"),onClick:q(_=>s(o.url),["prevent"])},null,8,["title","onClick"])):d("",!0),i(I,{icon:"mdi-link",title:n.$t("tooltip.copy_uri"),onClick:_=>v(h(o))},null,8,["title","onClick"])]),_:2},1032,["disabled"]))),128)),n.itemDetails.provider=="library"?(t(),p(X,{key:0},{prepend:a(()=>[i(Y,{domain:"library",size:30})]),title:a(()=>[R(u(n.$t("music_assistant_library")),1)]),subtitle:a(()=>[$("span",null,"library://"+u(n.itemDetails.media_type)+"/"+u(n.itemDetails.item_id),1)]),append:a(()=>[i(I,{icon:"mdi-link",title:n.$t("tooltip.copy_uri"),onClick:g[0]||(g[0]=o=>v(`library://${n.itemDetails.media_type}/${n.itemDetails.item_id}`))},null,8,["title"])]),_:1})):d("",!0)]}),_:1})]),_:1})):d("",!0)]))}});export{ft as I,gt as _};
