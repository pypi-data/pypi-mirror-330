<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{{ app_config.app_name }}</title>
  <link rel="stylesheet" href="/assets/pico.slate.min.css">
  <style>
    :root {
      --pico-font-size: 110%;
    }

    .error-card {
      background-color: #f8d7da;
      color: #721c24;
      padding: 1rem;
      border-radius: 0.25rem;
      border: 1px solid #f5c6cb;
    }

    .success-card {
      background-color: #CBFCE1;
      color: #721c24;
      padding: 1rem;
      border-radius: 0.25rem;
      border: 1px solid #f5c6cb;
    }
  </style>
  <script src="/assets/base3.js"></script>
</head>
<body class="container">


<header>
  <nav>
    <ul>
      <li><strong>{{ app_config.app_name }}</strong></li>
      {% for path,title in app_config.main_menu.items() %}
        <li><a href="{{ path }}">{{ title }}</a></li>
      {% endfor %}
      <li><a href="/system">system</a></li>
      {% if not header_info_new_line %}
        <li>
          <div>{{ header_info() }}</div>
        </li>
      {% endif %}
      <li><a href="/auth/logout">logout</a></li>
    </ul>
  </nav>
  {% if header_info_new_line %}
    <span>{{ header_info() }}</span>
  {% endif %}
</header>

{% for flash_message in get_flashes() %}
  {% if flash_message.category == "error" %}
    <article class="error-card">
      <header>Error</header>
      <p>{{ flash_message.message }}</p>
    </article>
  {% else %}
    <article class="success-card">
      <p>{{ flash_message.message }}</p>
    </article>
  {% endif %}



{% endfor %}


<main>
  {% block content -%}
  {%- endblock %}
</main>

<footer>
  <hr>
  app: v{{ app_config.app_version }} / mm_base3: v{{ app_config.mm_b1_version }} / server time: {{ now() | dt }}
</footer>

</body>
</html>