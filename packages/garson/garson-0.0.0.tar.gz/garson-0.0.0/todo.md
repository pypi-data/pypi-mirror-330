# Garson Hackaton


## Core
1. Запилить глобальный контекст


## Global Guards
  - для k8s probes
    1. отправляем сигнал (выбрать какой-нибудь HUP или что) процессу ✅
    2. процесс (обработчик сигнала) делает touch на спец. файл (который лежит в RAM)  # мб пишем PID процесса или ещё чего ✅
    3. проверяем, что timestamp файл-а обновился до текущего времени (с разбегом в пару секунд)


## Step Guards
  - active/failover
    1. до/после каждого Step-а актуализируем лок
       (возможны разные политики управления локами)
       [мы постоянно хотим его держать актуальным даже, если между степами очень длинные интервалы – меньше чем TTL лока]
       [мы хотим брать лок только на сам Step – готовы его отпускать/давать ему протухать, пока мы заняты чем-то другим или спим]
    2. если лок не наш – пропускаем запуск Step-а
    3. если лок наш – запускаем Step-а
    ВАЖНОЕ ЗАМЕЧАНИЕ: если Step работает долго (дольше TTL лока), внутри Step-а должен быть доступ к объекту Guard-а для ручного refresh-а
