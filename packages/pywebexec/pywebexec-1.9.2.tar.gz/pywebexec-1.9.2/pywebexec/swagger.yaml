swagger: "2.0"
info:
  title: PyWebExec API
  version: "1.0"
paths:
  /commands:
    get:
      summary: "List commands status"
      responses:
        "200":
          description: "List of all commands status"
    post:
      summary: "Run a command"
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: body
          name: commandRequest
          schema:
            type: object
            properties:
              command:
                type: string
              params:
                type: array
                items:
                  type: string
              rows:
                type: integer
              cols:
                type: integer
      responses:
        "200":
          description: "Command started"
  /commands/{command_id}:
    get:
      summary: "Get command status"
      parameters:
        - in: path
          name: command_id
          required: true
          type: string
      responses:
        "200":
          description: "Command status returned"
  /commands/{command_id}/output:
    get:
      summary: "Get command output"
      parameters:
        - in: path
          name: command_id
          required: true
          type: string
        - in: query
          name: offset
          type: integer
          default: 0
        - in: query
          name: maxsize
          type: integer
          default: 10485760
      responses:
        "200":
          description: "Command output returned"
  /commands/{command_id}/stop:
    patch:
      summary: "Stop a running command"
      parameters:
        - in: path
          name: command_id
          required: true
          type: string
      responses:
        "200":
          description: "Command stopped successfully"
  /executables:
    get:
      summary: "List available executable commands"
      responses:
        "200":
          description: "List of executables returned as an array of executable names"
